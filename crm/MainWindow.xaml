<Window x:Class="GymCRM.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="GymCRM" Height="800" Width="1200" Icon="img/gym.ico"
        WindowState="Maximized">
    <Grid>
        <Grid Margin="10" VerticalAlignment="Top">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="150" />
                <ColumnDefinition Width="200" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="150" />
                <ColumnDefinition Width="150" />
                <ColumnDefinition Width="150" />
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0" Content="Новий клієнт" Height="40" Click="Button_Registration" />
            <Button Grid.Column="1" Content="Панель адміністратора" Height="40" Click="AdminPanelButton_Click" />

            <StackPanel Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Stretch" Margin="10,0" Orientation="Horizontal">
                <TextBlock Text="Пошук:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBox x:Name="SearchTextBox" Width="200" VerticalAlignment="Center" ToolTip="Введіть ПІБ або номер телефону клієнта для пошуку" />
                <Button Width="120" VerticalAlignment="Center" Margin="15,0,0,0" Content="Шукати" ToolTip="Натисніть для пошуку клієнта за введеними даними" Click="Search"/>
            </StackPanel>

            <Button Grid.Column="4" Content="Статистика" Height="40" Click="Statistics" />
            <Button Grid.Column="5" Content="Оновити дані" Height="40" Click="UpdateList"/>
            <Button Grid.Column="6" Content="Вийти" Height="40" Click="Exit"/>
        </Grid>

        <Grid Margin="10,60,10,10">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <DataGrid x:Name="ClientsDataGrid"
                      AutoGenerateColumns="False" IsReadOnly="True" 
                      SelectionChanged="ClientsDataGrid_SelectionChanged" 
                      Grid.Row="0">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ПІБ" Binding="{Binding full_name}" />
                    <DataGridTextColumn Header="Дата народження" Binding="{Binding date_of_birth}" />
                    <DataGridTextColumn Header="Номер телефону" Binding="{Binding phone_number}" />
                    <DataGridTextColumn Header="Останній платіж" Binding="{Binding last_payment_date}" />
                    <DataGridTextColumn Header="Кінець підписки" Binding="{Binding subscription_end_date}" />
                    <DataGridTextColumn Header="Коментарі" Binding="{Binding comments}" />
                    <DataGridTextColumn Header="Дата створення" Binding="{Binding created_at}" />
                    <DataGridTextColumn Header="Баланс" Binding="{Binding balance}" />
                </DataGrid.Columns>
            </DataGrid>

            <ScrollViewer x:Name="ClientDetailsPanel" Visibility="Collapsed"
                          VerticalScrollBarVisibility="Auto" Margin="10" Grid.Row="1">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="3*" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Margin="10">
                        <TextBlock Text="Інформація про клієнта" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                        <TextBlock Text="ПІБ:"/>
                        <TextBox x:Name="FullNameTextBox" Margin="5" ToolTip="Введіть повне ім'я клієнта" />
                        <TextBlock Text="Дата народження:"/>
                        <TextBox x:Name="DateOfBirthTextBox" Margin="5" ToolTip="Введіть дату народження клієнта" />
                        <TextBlock Text="Номер телефону:"/>
                        <TextBox x:Name="PhoneNumberTextBox" Margin="5" ToolTip="Введіть номер телефону клієнта" />
                        <TextBlock Text="Останній платіж:"/>
                        <TextBox x:Name="LastPaymentTextBox" Margin="5" ToolTip="Введіть дату останнього платежу клієнта" />
                        <TextBlock Text="Закінчення підписки:"/>
                        <TextBox x:Name="SubscriptionEndTextBox" Margin="5" ToolTip="Введіть дату закінчення підписки клієнта" />
                        <TextBlock Text="Дата створення:"/>
                        <TextBox x:Name="CreationDateTextBox" Margin="5" ToolTip="Дата створення облікового запису" IsReadOnly="True"/>
                        <TextBlock Text="Баланс:"/>
                        <TextBox x:Name="BalanceTextBox" Margin="5" ToolTip="Введіть поточний баланс клієнта" />
                    </StackPanel>

                    <StackPanel Grid.Column="1" Margin="10">
                        <TextBlock Text="Коментар:" Margin="0,0,0,5"/>
                        <TextBox x:Name="CommentTextBox" Margin="5" Height="100" TextWrapping="Wrap" AcceptsReturn="True" ToolTip="Коментар" />
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="5">
                            <Button Content="Зберегти зміни" Width="150" Margin="5" Height="40" Click="Save"/>
                            <Button Content="Видалити клієнта" Width="150" Margin="5" Height="40" Click="Delete" />
                            <Button Content="Закрити" Width="150" Margin="5" Height="40" Click="CloseDetailsPanel"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </ScrollViewer>
        </Grid>
    </Grid>
</Window>
